# sitk.N4BiasFieldCorrection参数解释
"""
参数说明
image：(必选) 要进行偏置场校正的输入图像。这通常是一个三维医学图像（如 MRI 图像）。

maskImage：用于定义感兴趣区域（ROI）的掩膜图像。如果提供掩膜，算法将只在掩膜区域内进行偏置场校正。通常设为 image > 0 以避免背景区域（强度为零的区域）对校正的影响。

numberOfIterations：控制算法收敛的最大迭代次数，是一个整数元组，如 (50, 50, 50, 50)。每个元素表示不同层级（level）下的最大迭代次数。如果图像数据量大，可以增加迭代次数来提升偏置场校正效果。

convergenceThreshold：收敛阈值，控制迭代停止的条件。默认值为 0.001。当偏置场变化小于此值时，算法认为已收敛并停止迭代。减小该值可能会提高校正精度，但会增加计算时间。

shrinkFactor：收缩因子，用于在初始阶段降低图像分辨率。默认值为 4。较高的收缩因子可以减少计算量，但可能降低校正精度。一般推荐在较低分辨率下校正偏置场，然后逐步在更高分辨率下细化结果。

biasFieldFullWidthAtHalfMaximum：偏置场的半峰全宽（FWHM），控制偏置场的平滑度，默认值为 0.15。增大该值可以增加平滑度，从而减少高频噪声。

wienerFilterNoise：控制去噪强度的参数，默认值为 0.01。该参数用于维纳滤波，以减少噪声对校正的影响。较低的值会减少噪声影响，但可能导致校正时间增加。

numberOfHistogramBins：用于计算直方图的直方图 bin 数量，默认值为 200。用于估计图像的强度直方图，较高的 bin 数会增加计算量，但可能提升校正精度。

splineOrder：用于校正的 B 样条的阶数，默认值为 3。较高的样条阶数会增加计算复杂度，但可能提高结果的平滑度。

numberOfControlPoints：定义控制点的数量，默认为 (4, 4, 4)。控制点越多，偏置场模型就越灵活。可以通过增加控制点数量来改善校正效果，但也会增加计算时间。

"""
"D:\DICOM2NII\MRIcron\mricron.exe"
# dcm2niix.exe用法
# 终端D:\DICOM2NII\MRIcron\Resources\dcm2niix.exe -h查看参数
"""
示例用法
dcm2niix.exe -f mystudy%s c:\DICOM\dir
dcm2niix.exe -o "c:\dir with spaces\dir" c:\dicomdir

参数列表
-1..-9: 设置 gzip 压缩级别，1 为最快，9 为最小，默认值为 6。
-a: 设置相邻的 DICOM 文件（同一系列的图像总是在同一文件夹中），加速转换（选项：n 或 y，默认值为 n）。通过指示程序假定同一系列的图像文件都位于同一个文件夹中。这种假设可以减少查找图像的时间，从而加速转换过程。
-b: 生成 BIDS 辅助文件（选项：y、n 或 o [o 表示仅生成辅助文件，不生成 NIfTI]，默认值为 y）。指示程序是否生成符合 BIDS（脑成像数据结构）标准的辅助文件，这些文件包含与 NIfTI 图像相关的元数据。
-ba: 对 BIDS 进行匿名处理（选项：y 或 n，默认值为 y）。在生成 BIDS 辅助文件时是否对患者信息进行匿名处理，以保护患者隐私。
-c: 在 NIfTI 辅助文件中存储的注释（最多 24 个字符）。
-d: 指定目录搜索深度，是否转换 in_folder 的子文件夹中的 DICOM 文件（范围：0..9，默认值为 5）。
-e: 导出为 NRRD 格式而不是 NIfTI（选项：y 或 n，默认值为 n）。
-g: 生成默认文件（选项：y、n、o、i [o 仅重置并写入默认值，i 忽略重置默认值]，默认值为 n）。
-h: 显示帮助信息。
-i: 忽略派生图像、本地化图像和 2D 图像（选项：y 或 n，默认值为 n）。程序将忽略所有派生图像、本地化图像和 2D 图像，只处理 3D 图像
-l: 无损缩放 16 位整数以使用动态范围（选项：y 或 n，默认值为 n）。启用无损缩放，图像数据将被缩放到适合动态范围的最佳值，通常会提升图像的可视化效果。
-m: 合并来自同一系列的 2D 切片（选项：n、y 或 0/1/2，默认值为 2 [不合并、合并、自动]）。同一系列的图像通常会有相同的系列实例 UID（Study Instance UID），使得它们可以被归为同一组进行处理和分析。
-n: 仅转换此系列的 CRC 编号（最多可使用 16 次，默认转换所有）。
-o: 输出目录（省略时保存到输入文件夹）。
-p: 控制 Philips 精确浮点（非显示）缩放（选项：y 或 n，默认值为 y）。精确浮点缩放。这意味着在处理数据时，将考虑这些精确的浮点值进行适当的缩放，以确保输出图像的准确性
-r: 重新命名而不是转换 DICOM 文件（选项：y 或 n，默认值为 n）。不会将其转换为 NIfTI 格式
-s: 单文件模式，不转换文件夹中的其他图像（选项：y 或 n，默认值为 n）。在文件夹中只处理一个特定的图像，而不转换其他图像
-t: 包含私人患者详细信息的文本注释（选项：y 或 n，默认值为 n）。输出文件中包含私人患者详细信息。这可能包括患者姓名、出生日期、医疗记录号等信息
--progress: 报告进度（选项：y 或 n，默认值为 n）。
-v: 启用详细模式（选项：n、y 或 0/1/2 [无、是、冗长]，默认值为 0）。更多的运行时信息，比如处理的文件数量、转换进度等。
-w: 处理名称冲突的写入行为（0、1、2，默认值为 2：0=跳过重复项，1=覆盖，2=添加后缀）。
-x: 裁剪 3D 获取（选项：y、n、i，默认值为 n，使用 i 忽略以既不裁剪也不旋转 3D 获取）。
-z', 'y',  # 压缩输出为 .nii.gz 格式

-f: 设置输出文件名格式。可用格式化字符串：
%a: 天线（线圈）名称
%b: 基础名
%c: 注释
%d: 描述
%e: 回声编号
%f: 文件夹名称
%i: 患者 ID
%j: 系列实例 UID
%k: 研究实例 UID
%m: 制造商
%n: 患者姓名
%p: 协议
%r: 实例编号
%s: 系列编号
%t: 时间
%u: 获取编号
%v: 供应商
%x: 研究 ID
%z: 序列名称
默认格式为 '%t_%p_%s'。
"""



